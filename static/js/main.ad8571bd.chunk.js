(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{40:function(t,e,n){},41:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),a=n(14),o=n.n(a),s=n(11),i=n(3),u=n(1),d=function(){return Object(u.jsx)("div",{className:"home-container",children:Object(u.jsxs)("div",{className:"left-panel",children:[Object(u.jsx)("h1",{children:"Get your Pokemons posters here!"}),Object(u.jsx)("h3",{children:" Suscribe now and get an amazing discount! "}),Object(u.jsx)("p",{children:"You can find all 150 pokemons and more to come"})]})})},j=n(10),l=n.n(j),p=n(16),b=n(5),O=n(12),h=n(13),m=Object(h.a)("cart/addProductToCart"),f=Object(h.a)("cart/increaseQuantity"),x=Object(h.a)("cart/removeProductFromCart"),k=Object(h.a)("cart/resetProductFromCart");var v=function(t){if(void 0!==t)return t.charAt(0).toUpperCase()+t.slice(1)},g=function(t){return{type:"SET_PRODUCTS",payload:t}},y=function(){var t=Object(b.c)((function(t){return t.products})),e=Object(b.b)(),n=Object(c.useCallback)(Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.t1=g,t.next=4,r(24);case 4:t.t2=t.sent,t.t3=(0,t.t1)(t.t2),(0,t.t0)(t.t3);case 7:case"end":return t.stop()}}),t)}))),[e]),r=function(){var t=Object(p.a)(l.a.mark((function t(e){var n,c,r,a,o,s,i,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],c=1;case 2:if(!(c<=e)){t.next=18;break}return r="https://pokeapi.co/api/v2/pokemon/".concat(c),t.next=6,fetch(r);case 6:return a=t.sent,t.next=9,a.json();case 9:o=t.sent,s=o.id,i=o.name,u=o.sprites.front_default,50,n.push({id:s,name:i,image:u,price:50});case 15:c++,t.next=2;break;case 18:return t.abrupt("return",n);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){n()}),[n]),Object(u.jsx)("ul",{className:"pokemon-container",children:t.map((function(t){return Object(u.jsxs)("div",{className:"pokemon-wrapper",children:[Object(u.jsx)(O.b,{to:"/shopping-cart2/products/".concat(t.id),children:Object(u.jsxs)("div",{className:"pokemon-item-wrapper",children:[Object(u.jsx)("img",{className:"poke-image",src:t.image,alt:"poke"}),Object(u.jsx)("li",{children:v(t.name)}),Object(u.jsxs)("li",{children:["$ ",t.price]})]})}),Object(u.jsx)("button",{className:"add-to-cart-button",onClick:function(){e(m(t))},children:"Add to Cart"})]},t.id)}))})},C=function(t){var e=t.match,n=Object(b.c)((function(t){return t.products})),r=Object(b.b)(),a=Object(c.useState)({abilities:[{ability:{}}],moves:[{move:{}}],sprites:{front_default:{}},species:{}}),o=Object(s.a)(a,2),i=o[0],d=o[1],j=Object(c.useState)(""),O=Object(s.a)(j,2),h=O[0],f=O[1],x=Object(c.useCallback)(Object(p.a)(l.a.mark((function t(){var n,c,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://pokeapi.co/api/v2/pokemon/".concat(e.params.id),t.next=3,fetch(n);case 3:return c=t.sent,t.next=6,c.json();case 6:r=t.sent,d(r);case 8:case"end":return t.stop()}}),t)}))),[e.params.id]),k=Object(c.useCallback)((function(){var t="";i.moves.forEach((function(e,n){t=""===t?v(e.move.name):n===i.moves.length-1?t+", "+v(e.move.name)+".":t+", "+v(e.move.name)})),f(t)}),[i.moves]);return Object(c.useEffect)((function(){var t=function(){var t=Object(p.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[x]),Object(c.useEffect)((function(){k()}),[k]),Object(u.jsxs)(c.Fragment,{children:[Object(u.jsxs)("div",{className:"pokemon-detail",children:[Object(u.jsxs)("h2",{children:["Name: ",v(i.name)]}),Object(u.jsx)("img",{className:"poke-image-detail",src:i.sprites.front_default,alt:"poke"}),Object(u.jsx)("h4",{children:"Price: $50"}),Object(u.jsxs)("button",{className:"add-to-cart-button",onClick:function(){return function(){var t=n.findIndex((function(t){return t.id===parseInt(e.params.id)}));r(m(n[t]))}()},children:[" ","Add to cart"," "]})]}),Object(u.jsxs)("div",{className:"info-container",children:[Object(u.jsx)("h3",{children:"Abilities: "}),Object(u.jsx)("ul",{children:i.abilities.map((function(t,e){return Object(u.jsx)("li",{children:v(t.ability.name)},e)}))}),Object(u.jsx)("h3",{children:"Moves: "}),Object(u.jsx)("p",{children:h})]})]},i.id)},N=function(){return Object(u.jsxs)(i.c,{children:[Object(u.jsx)(i.a,{exact:!0,path:"/shopping-cart2/",component:d}),Object(u.jsx)(i.a,{exact:!0,path:"/shopping-cart2/products",component:y}),Object(u.jsx)(i.a,{exact:!0,path:"/shopping-cart2/products/:id",component:C})]})},w=n.p+"static/media/cart-logo.0e9b2d20.png",E=function(t){var e=t.toggleCart,n=Object(b.c)((function(t){return t.cart.products})),r=Object(c.useState)(!1),a=Object(s.a)(r,2),o=a[0],i=a[1];return Object(c.useEffect)((function(){0===n.reduce((function(t,e){return t+e.quantity}),0)?i(!1):i(!0)}),[n]),Object(u.jsxs)("nav",{className:"nav-bar-wrapper",children:[Object(u.jsx)("h3",{children:"Pokemon Posters"}),Object(u.jsxs)("ul",{className:"nav-bar",children:[Object(u.jsx)(O.b,{to:"/shopping-cart2/",children:Object(u.jsx)("li",{children:"Home"})}),Object(u.jsx)(O.b,{to:"/shopping-cart2/products",children:Object(u.jsx)("li",{children:"Products"})}),Object(u.jsxs)("div",{className:"logo-container",children:[Object(u.jsx)("img",{onClick:e,id:"cart-logo",src:w,alt:"cart"}),o&&Object(u.jsx)("div",{className:"total-quantity",children:n.reduce((function(t,e){return t+e.quantity}),0)})]})]})]})},S=(n(40),{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#FFF",padding:"50px",zIndex:1e3,border:"1px solid black"}),P={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0, .3)",zIndex:1e3},_={padding:"2px 4px",position:"absolute",top:"10px",right:"10px",border:"none",cursor:"pointer",color:"inherit",outline:"inherit"};function q(t){var e=t.open,n=t.closeModal,c=t.toggleCart,r=t.resetCart,a=t.products;return e?o.a.createPortal(Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{style:P}),Object(u.jsxs)("div",{style:S,children:[Object(u.jsx)("h2",{children:"Thank you for your purchase!"}),Object(u.jsx)("button",{id:"close-modal-button",onClick:function(){n(),c(),r(a)},style:_,type:"button",children:"x"})]})]}),document.getElementById("portal")):null}var I=function(t){var e=t.toggleCart,n=Object(b.c)((function(t){return t.cart.products})),r=Object(b.b)(),a=Object(c.useState)(!1),o=Object(s.a)(a,2),i=o[0],d=o[1],j=Object(c.useCallback)((function(t){return t.quantity*t.pokemon.price}),[]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"cart-contanier",children:[Object(u.jsx)("h3",{id:"cart-title",children:"Your Purchase"}),Object(u.jsx)("div",{className:"cart-inner-contanier",children:n.map((function(t){return Object(u.jsxs)("div",{className:"cart-item-wrapper",children:[Object(u.jsx)("img",{src:t.pokemon.image,alt:"pokemon"}),Object(u.jsxs)("div",{className:"cart-product-wrapper",children:[Object(u.jsx)("h4",{children:v(t.pokemon.name)}),Object(u.jsxs)("h4",{children:["$",j(t)]}),Object(u.jsxs)("div",{className:"cart-buttons-wrapper",children:[Object(u.jsxs)("button",{onClick:function(){r(x(t))},className:"cart-button",children:[" ","-"," "]}),Object(u.jsxs)("div",{id:"number-container",children:[" ",t.quantity," "]}),Object(u.jsxs)("button",{onClick:function(){r(f(t))},className:"cart-button",children:[" ","+"," "]})]})]})]},t.pokemon.id)}))}),Object(u.jsxs)("h4",{id:"total-amount",children:["Total: $ ",n.reduce((function(t,e){return t+e.quantity*e.pokemon.price}),0)]}),Object(u.jsx)("button",{id:"checkout-button",onClick:n.length>0?function(){d(!0)}:void 0,children:"Checkout"}),Object(u.jsx)("button",{id:"close-button",onClick:e,children:"Close"})]}),i&&Object(u.jsx)(q,{open:i,closeModal:function(){return d(!1)},toggleCart:e,resetCart:function(t){r(k(t))},products:n})]})},T=n(4),F=n(19),M=Object(h.b)({products:[]},(function(t){t.addCase(m,(function(t,e){-1===t.products.findIndex((function(t){return t.pokemon.id===e.payload.id}))?t.products.push({quantity:1,pokemon:e.payload}):t.products[t.products.findIndex((function(t){return t.pokemon.id===e.payload.id}))].quantity++})).addCase(f,(function(t,e){t.products[t.products.findIndex((function(t){return t.pokemon.id===e.payload.pokemon.id}))].quantity++})).addCase(x,(function(t,e){e.payload.quantity>1?t.products[t.products.findIndex((function(t){return t.pokemon.id===e.payload.pokemon.id}))].quantity--:t.products=t.products.filter((function(t){return t.pokemon.id!==e.payload.pokemon.id}))})).addCase(k,(function(t,e){t.products=[]}))})),A=n(27),D=[],U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,e=arguments.length>1?arguments[1]:void 0;return"SET_PRODUCTS"===e.type?Object(A.a)(e.payload):t},$=Object(T.b)({cart:M,products:U}),z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||T.c,R=Object(T.d)($,z(Object(T.a)(F.a))),B=function(){var t=Object(c.useState)(!1),e=Object(s.a)(t,2),n=e[0],r=e[1],a=function(){r(!n)};return Object(u.jsxs)(b.a,{store:R,children:[Object(u.jsxs)(O.a,{children:[Object(u.jsx)(E,{toggleCart:a}),Object(u.jsx)(N,{})]}),n&&Object(u.jsx)(I,{toggleCart:a})]})};o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(B,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.ad8571bd.chunk.js.map